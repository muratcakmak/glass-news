<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Glass News</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a0a0f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Glass News">
  
  <!-- Icons -->
  <link rel="icon" type="image/png" href="icons/favicon.png">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="styles.css">
</head>
<body class="dark-theme">
  <!-- Liquid Glass Background Filters -->
  <svg style="position: absolute; width: 0; height: 0;" aria-hidden="true">
    <filter id="glass-noise">
      <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch" />
      <feColorMatrix type="saturate" values="0" />
      <feComponentTransfer>
        <feFuncR type="linear" slope="0.05" />
        <feFuncG type="linear" slope="0.05" />
        <feFuncB type="linear" slope="0.05" />
      </feComponentTransfer>
      <feBlend in="SourceGraphic" mode="overlay" />
    </filter>
  </svg>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-inner">
      <a href="/" class="navbar-brand">Glass News <span class="navbar-version app-version" style="font-size: 0.6em; opacity: 0.5; font-weight: 400; margin-left: 4px;">v2.2.9</span></a>
      <div class="navbar-actions">
        <button class="btn btn-primary btn-sm" id="navInstallBtn" style="display: none; padding: 4px 12px; font-size: 0.8em; border-radius: 20px;">Install App</button>
        <button class="btn btn-icon" id="notificationBtn" aria-label="Notifications">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="page">
    <div class="container">
      <!-- Page Header -->
      <header class="page-header animate-in">
        <p class="text-label">Today's Intelligence</p>
        <h1 class="page-title">Glass News</h1>
      </header>

      <!-- Category Pills -->
      <div class="category-pills-container">
        <div class="category-pills animate-in animate-delay-1">
          <button class="category-pill active" data-category="all">All</button>
          <button class="category-pill" data-category="tech">Tech</button>
          <button class="category-pill" data-category="news">News</button>
          <button class="category-pill" data-category="community">Community</button>
          <button class="category-pill" data-category="turkey">Turkey</button>
        </div>
      </div>

      <!-- Featured Article -->
      <article class="featured-card animate-in animate-delay-2" data-article-id="featured">
        <div class="featured-card-image">
          <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&q=80" alt="Glass visualization" loading="eager">
        </div>
        <div class="featured-card-content">
          <div class="featured-card-label">
            <span class="dot"></span>
            <span class="text-label">Breaking</span>
          </div>
          <h2 class="featured-card-title">OpenAI Announces GPT-5 with Revolutionary Reasoning Capabilities</h2>
          <p class="featured-card-excerpt">The latest model demonstrates unprecedented performance in complex problem-solving, mathematical reasoning, and multi-step planning tasks, marking a significant leap in AI capabilities.</p>
          <button class="btn btn-primary">Read Full Story</button>
        </div>
      </article>

      <!-- News Grid -->
      <div class="news-grid-container">
        <div class="news-grid" id="newsGrid">
          <!-- Articles will be injected here -->
          <div class="loading-state">
            <div class="spinner"></div>
            <p>Scanning news feeds...</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Article Modal -->
  <div class="article-modal" id="articleModal" style="display: none;">
    <div class="article-modal-overlay"></div>
    <div class="article-modal-content">
      <button class="article-modal-close" id="modalClose" aria-label="Close">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <div class="article-modal-body">
        <div class="article-modal-image-container" id="modalImageContainer">
          <img id="modalImage" alt="" loading="lazy" class="article-modal-image">
        </div>

        <div class="article-modal-container">
          <div class="article-modal-header">
            <span class="article-modal-category" id="modalCategory"></span>
            <h2 class="article-modal-title" id="modalTitle"></h2>
            <div class="article-modal-meta">
              <span id="modalAuthor"></span>
              <span id="modalDate"></span>
              <span id="modalReadTime"></span>
            </div>
          </div>

          <div class="article-modal-tags" id="modalTags"></div>

          <div class="article-modal-text" id="modalContent"></div>

          <div class="article-modal-footer">
            <button class="btn btn-share" id="modalShare">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
                <polyline points="16 6 12 2 8 6"/>
                <line x1="12" y1="2" x2="12" y2="15"/>
              </svg>
              Share
            </button>
            <a href="#" target="_blank" rel="noopener noreferrer" class="btn btn-primary" id="modalSourceLink">
              Read Original Source
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Install Banner -->
  <div class="install-banner" id="installBanner" style="display: none;">
    <div class="notification-banner-content">
      <div class="notification-banner-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
          <polyline points="7 10 12 15 17 10"/>
          <line x1="12" y1="15" x2="12" y2="3"/>
        </svg>
      </div>
      <div class="notification-banner-text">
        <p class="notification-banner-title">Install Glass News</p>
        <p class="notification-banner-description">Add to your home screen for the best experience.</p>
      </div>
      <div class="notification-banner-actions">
        <button class="btn" id="installDismiss">Not Now</button>
        <button class="btn btn-primary" id="installAccept">Install</button>
      </div>
    </div>
  </div>

  <!-- Notification Banner -->
  <div class="notification-banner" id="notificationBanner" style="display: none;">
    <div class="notification-banner-content">
      <div class="notification-banner-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
        </svg>
      </div>
      <div class="notification-banner-text">
        <p class="notification-banner-title">Stay Updated</p>
        <p class="notification-banner-description">Enable notifications to never miss breaking news.</p>
      </div>
      <div class="notification-banner-actions">
        <button class="btn" id="notificationDismiss">Maybe Later</button>
        <button class="btn btn-primary" id="notificationEnable">Enable</button>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <!-- Hidden Haptic Trigger for iOS 18+ -->
  <label id="haptic-trigger" style="position: fixed; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; pointer-events: none;" aria-hidden="true">
    <input type="checkbox" switch id="haptic-checkbox">
  </label>

  <!-- Application Logic -->
  <script src="app.js"></script>
</body>
</html>
